<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Test Paths</title>
  </head>

  <body>
    <div class="container">
      <canvas id="testPathChart"></canvas>
    </div>
  </body>

  <script>
    let testPathChart = document
      .getElementById("testPathChart")
      .getContext("2d");
    let chartData = {};
    const qsEndPoint = "https://qsServer.kemalsekic1.repl.co";
    const coinDeskAPI = "https://api.coindesk.com/v1/bpi/currentprice.json";

    fetch(qsEndPoint)
      .then((response) => response.json())
      .then((data) => {
        chartData = data;
        const obj = JSON.parse(JSON.stringify(chartData));

        console.log(obj.id);
        console.log(parseInt(obj.id));

        let passedTests = new Chart(testPathChart, {
          type: "line",
          data: {
            labels: ["Passed", "Failed", "Risky"],
            datasets: [
              {
                label: "Passes",
                data: [
                  5, 2, 10,
                  // parseInt(obj.bpi.EUR.rate),
                  // parseInt(obj.bpi.USD.rate),
                  // parseInt(obj.bpi.GBP.rate),
                ],
              },
            ],
          },
          options: {},
        });
      });

    //     fetch(coinDeskAPI)
    //         .then(response => response.json())
    //         .then(data => {
    //             chartData = data;
    //             console.log(chartData)
    //             console.log(chartData.bpi.EUR)
    //             const obj = JSON.parse(JSON.stringify(chartData))

    //             console.log(obj.bpi.EUR.rate);
    //             console.log(obj.bpi.EUR.rate);
    //             console.log(parseInt(obj.bpi.EUR.rate));
    //             // let cRate = chartData.getInt(chartData.bpi.EUR.rate);

    //     let passedTests = new Chart(testPathChart, {
    //         type: 'line',
    //         data:{
    //             labels:['Passed', 'Failed', 'Risky'],
    //             datasets:[{
    //                 label: 'Passes',
    //                 data:[
    //                     parseInt(obj.bpi.EUR.rate),
    //                     parseInt(obj.bpi.USD.rate),
    //                     parseInt(obj.bpi.GBP.rate)
    //                 ]
    //             }]
    //         },
    //         options:{}
    //     });
    // });
  </script>
</html>
